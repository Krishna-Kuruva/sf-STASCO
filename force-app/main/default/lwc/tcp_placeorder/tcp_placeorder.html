<template>
    <!-- ================ Breadcrumbs Section Start ============= -->
   
      <div id="top" class="slds-size_12-of-12 mb24">
       <div class="flex slds-grid">
           <div class="breadcrumbs setBreadcrumbs">
               <nav role="navigation" aria-label="Breadcrumbs">
                   <ol class="slds-breadcrumb slds-list_horizontal slds-wrap">
                       <li class="slds-breadcrumb__item">
                       <template if:true={fromDashboard}>
                           <a href="javascript:void(0)" onclick={handleHomepage} aria-label="Go to dashboard link">Dashboard</a>
                       </template>
                       <template if:false={fromDashboard}>
                           <a href="javascript:void(0)" onclick={handleHomepage} aria-label="Go to dashboard link">Order History</a>
                       </template>
                       </li>
                       <li class="slds-breadcrumb__item">
                       <template if:false={reorderoverlay}>
                           <a href="javascript:void(0)" aria-label="Place Order ">Place Order</a>
                       </template>
                       <template if:true={reorderoverlay}>
                           <a href="javascript:void(0)" aria-label="Re-Order">{reOrderText}</a>
                       </template>
                       </li>
                   </ol>
               </nav>
           </div>
       </div>
      </div>
   
    <!-- ================ Breadcrumbs Section Start ============= -->
   
   
   <!-- ================ Place order text ============= -->
   
      <div class="slds-size_9-of-12">
       <div class="orderTitle">
           <template if:false={reorderoverlay}>
               <h1>Place Order</h1>
           </template>
           <template if:true={reorderoverlay}>
               <h1>{reOrderText}</h1>
           </template>
          
       </div>
      </div>
   
   <!-- ================ Place order text ============= -->
   
   
   <!-- ================ Tab section Start ============= -->
   
    <div class="slds-size_12-of-12 tabSet mtb20">
       
            <!--========================================================
                                    New Order tab star
               =========================================================-->
                   
                          <!--****** Progress Indicator Section  *****-->
                            <div class="setIndicator">
                           <lightning-progress-indicator tabindex="-1" type="base" current-step={selectedStep}>
                               <lightning-progress-step label="Select Product" onstepfocus={selectStep1} value="Step1">
                               </lightning-progress-step>
                               <lightning-progress-step label="Enter details" onstepfocus={selectStep2} value="Step2">
                               </lightning-progress-step>
                               <lightning-progress-step label="Review & Submit" onstepfocus={selectStep3} value="Step3">
                               </lightning-progress-step>
                              
                           </lightning-progress-indicator>
                           <div class="slds-progress">
                               <div class="slds-progress__list">
                                   <!--Step1 Label Active-->
                                   <template if:true={progressStep1}>
                                       <div class="progressText selectedText" style="margin-left: -30px">Select Product</div>
                                       <div class="progressText">Enter details</div>
                                       <div class="progressText" style="margin-right: -50px;">Review & Submit</div>
                                   </template>
                                   <!--Step2 Label Active-->
                                   <template if:true={progressStep2}>
                                       <div class="progressText " style="margin-left: -30px">Select Product</div>
                                       <div class="progressText selectedText">Enter details</div>
                                       <div class="progressText" style="margin-right: -50px;">Review & Submit</div>
                                   </template>
                                    <!--Step3 Label Active-->
                                   <template if:true={progressStep3}>
                                       <div class="progressText " style="margin-left: -30px">Select Product</div>
                                   <div class="progressText">Enter details</div>
                                   <div class="progressText selectedText" style="margin-right: -50px;">Review & Submit</div>
                                   </template>
                                  
                               </div>
                            </div>
                            </div>  
                           <!--**** Progress Indicator Section End *****--> 
   
                           <div class="spinner">
                               <template if:true={isLoading}>
                                    <lightning-spinner alternative-text="Loading" variant="brand" size="medium">
                                    </lightning-spinner>
                               </template>
                           </div> 
                            
                            <!--================================================
                                          Select Product section start
                           ================================================--> 
                           <!--*****  Combobox and Card section End   *****-->
                           <div class="slds-size_12-of-12 mb40">
                           <!--*****  Combobox section Start   *****-->
                               <div class="flex slds-grid slds-gutters">
                                   <!--*** Select Product Combobox Customer Name  ******-->
                                   <template if:true={selectProductCustomerNameCombobox}>
                                       <div class="slds-size_4-of-12 setPadding">
                                           <div class="slds-p-vertical_x-small">
                                               <div class="slds-form-element">
                                                   <div class="selectBg slds-form-element__control">
                                                       <lightning-combobox
                                                           placeholder="Select Customer"
                                                           variant="label-hidden"
                                                           value={customerValue}
                                                           options={CustomerOptions}
                                                           class="selectProductCombobox Step1"
                                                           onchange={handleCustomerChange}
                                                           required
                                                           >
                                                           
                                                       </lightning-combobox>
                                                          
   
                                                   </div>
                                               </div> 
                                           </div>
                                           
                                        </div>
                                   </template>    
                                   <!--**** Select Product Combobox Customer Name End  ****-->
   
                                  <!--**** Select Product combobox Delivery To  ***-->
                                   <template if:true={selectProductDeliveryToCombobox}>
                                       <div class="slds-size_4-of-12 setPadding">
                                           <div class="slds-p-vertical_x-small">
                                               <div class="slds-form-element">
                                                   <div class="slds-form-element__control">
                                                       <lightning-combobox
                                                           placeholder="Select Delivery To"
                                                           variant="label-hidden"
                                                           value={deliveryValue}
                                                           options={deliveryOptions}
                                                           class="selectProductCombobox Step1"
                                                           onchange={handleDeliveryChange}
                                                           message-when-value-missing="Please select a delivery to"
                                                           required
                                                           >
                                                       </lightning-combobox>
                                                          
                                                   </div>
                                               </div> 
                                           </div>
                                        </div>
                                   </template>    
                                  <!--***** Select Product combobox Delivery To End  ******-->
   
                                  <!--**** Select Product Combobox Invoice To   ***-->
                                  <template if:true={selectProductInvoiceToCombobox}>
                                   <div class="slds-size_4-of-12 setPadding">
                                       <div class="slds-p-vertical_x-small">
                                           <div class="slds-form-element">
                                               <div class="slds-form-element__control">
                                                      
                                                       <lightning-combobox
                                                           placeholder="Select Invoice To"
                                                           variant="label-hidden"
                                                           value={billingValue}
                                                           options={billingOptions}
                                                           class="selectProductCombobox Step1"
                                                           onchange={handleInvoiceChange}
                                                           message-when-value-missing="Please select invoice to"
                                                           required
                                                           >
                                                       </lightning-combobox>
                                               </div>
                                           </div> 
                                       </div>
                                    </div>
                                  </template>    
                                <!--****  Select Product Combobox Invoice To End  *****-->
                               </div>
                           <!--*****  Combobox section End   *****-->
   
                           <!--***** Card section Start   *****-->
                               <div class="flex slds-grid slds-gutters">
                               <!--**** Select Product Customer Name Card  ****-->
                               <template if:true={selectProductCustomerNameCard}>
                                   <div class="slds-size_4-of-12 setPadding">
                                       <div class="infoBox">
                                           <h2>Customer:</h2>
                                          
                                           <p>{customerDetails}</p>
                                           <template if:false={hasCustomerData}>
                                               <div>                                       
                                               <p class="slds-text-color_error">No Customer found. Please contact your Customer Center Representative for assistance.</p>
                                               </div>
                                        </template>
                                       </div>
                                   </div>
                                   
                               </template> 
                               <!--**** Select Product Customer Name Card End  *****-->
   
                               <!--***** Select Product Delivery To Card ******-->
                               <template if:true={selectProductDeliveryToCard}>
                                   <div class="slds-size_4-of-12 setPadding">
                                       <div class="infoBox">
                                           <h2>Delivery To:</h2>
                                           
                                           <p>{deliveryDetails}</p>
                                           <template if:false={hasDeliveryToData}>
                                               <div>                                       
                                               <p class="slds-text-color_error">No Delivery To found. Please contact your Customer Center Representative for assistance.</p>
                                               </div>
                                        </template>
                                       </div>
                                   </div>
                               </template> 
                               <!--***** Select Product Delivery To Card End ******-->
   
                               <!--***** Select Product Invoice To Card   ****--> 
                                <template if:true={selectProductInvoiceToCard}>
                                   <div class="slds-size_4-of-12 setPadding">
                                       <div class="infoBox">
                                           <h2>Invoice To:</h2>
                                          
                                           <p>{billingDetails}</p>
                                           <template if:false={hasInvoiceToData}>
                                               <div>                                       
                                               <p class="slds-text-color_error">No Invoice To found. Please contact your Customer Center Representative for assistance.</p>
                                               </div>
                                        </template>
                                       </div>
                                   </div>
                               </template> 
                               <!--***** Select Product Invoice To Card End  ****--> 
   
                               </div> 
                            <!--***** Card section End   *****-->   
   
                           </div> 
                           <!--*****  Combobox and Card section End   *****-->
   
                           <!--*********   Select Product Table Section Start   ********-->
                           <template if:true={selectProductTable}>
                            <div class="slds-grid verticalSet mb15">
                               <div class="slds-size_8-of-12">
                                   <h2 class="heading3">My Products <span class="spText">Selected Products: {SelectedProdCount}</span></h2>
                                </div>
                               <div class="slds-size_4-of-12 setPadding">
                                   <div class="flex slds-grid slds-gutters">
                                       <div class="mlAuto">
                                           <div class="searchWidth">
                                               <div class="slds-form-element">
                                                   <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_right">
                                                     <span class="slds-icon_container slds-icon-utility-search slds-input__icon slds-input__icon_right">
                                                        <lightning-button-icon icon-name="utility:search"  variant="bare" alternative-text="search" title="search"></lightning-button-icon>
                                                   </span>
                                                     <input type="text" id="search" placeholder="Search product"  class="slds-input setSearch" onkeyup={handleSearchProduct} value={productSearchText}/>
                                                   </div>
                                                 </div>
                                            </div>
                                               
                                       </div>
                                   </div>
                               </div>
       
                             </div>
   
                             
   
                             <div class="mb36 setScrollbarTable scrollBarStyle">
                              
                                   <div class={tableClassName}>
                                   <div class={scrollBarEnable} style="height:100%;
                                   background-color: #f5f5f5;">
   
                                       <table
                                           class="slds-table slds-table_cell-buffer slds-table--header-fixed slds-table_fixed-layout"
                                           aria-label="Select product table">
                                           <thead>
                                               <tr class="slds-line-height_reset">
                                                <th class="" scope="col" style="width:25%">
                                                       
                                                    <div class="slds-truncate slds-cell-fixed" title="Product Code">
                                                    <div class="tableflex">
                                                        <div class="ml35">Product Code</div>
                                                        <div class="arrowtSet">
                                                            <span class="upArrow" onclick={sortProductCodeDesc}></span>
                                                            <span class="downArrow" onclick={sortProductCodeAsc}></span>
                                                        </div>
                                                    </div> 
                                                    </div>

                                                </th>

                                                   <th class="" scope="col">
                                                       
                                                       <div class="slds-truncate slds-cell-fixed" title="Product Name">
                                                       <div class="tableflex">
                                                           <div>Product Name</div>
                                                           <div class="arrowtSet">
                                                               <span class="upArrow" onclick={sortProductDesc}></span>
                                                               <span class="downArrow" onclick={sortProductAsc}></span>
                                                           </div>
                                                       </div> 
                                                       </div>
   
                                                   </th>
                                               </tr>
                                           </thead>
                                           <tbody>
                                               <template if:true= {showProducts}>
                                                   <template for:each ={productList} for:item="product">
                                                       <tr class="slds-hint-parent" key={product.Id}>
                                                        <td style="width:25%">
                                                            <div class="slds-checkbox">
                                                                <input  type="checkbox" name={product.Id}  id={product.Id} value={product.Name}  onclick={handleProduct}/>
                                                                <label aria-label={product.Code} class="slds-checkbox__label slds-grid slds-grid_vertical-align-center" for={product.Id}>
                                                                    <span class="slds-checkbox_faux setCheckbox mr12"></span>
                                                                    <span class="slds-form-element__label setLabel">{product.Number}</span>
                                                                </label>
                                                            </div>
                                                        </td> 
                                                        <td>
                                                            <div class="">
                                                                {product.Name}
                                                            </div>
                                                        </td>
                                                        
                                                           <!-- <td>
                                                               <div class="slds-checkbox">
                                                                   <input  type="checkbox" name={product.Id}  id={product.Id} value={product.Name}  onclick={handleProduct}/>
                                                                   <label aria-label={product.Name} class="slds-checkbox__label" for={product.Id}>
                                                                       <span class="slds-checkbox_faux setCheckbox"></span>
                                                                       <span class="slds-form-element__label setLabel">{product.Name}</span>
                                                                   </label>
                                                               </div>
                                                           </td>  -->
                                                       </tr>
                                                   </template>       
                                               </template>
                                               <template if:true={noSearchResult}>
                                                   <tr class="slds-hint-parent">  
                                                       <td colspan="2">
                                                           <div>
                                                               <p>No Products found.</p>
                                                           </div>
                                                       </td>
                                                   </tr>
                                               </template>   
                                               <template if:false={hasProductData}>
                                                   <tr class="slds-hint-parent">  
                                                       <td colspan="2">
                                                           <div>
                                                           <p>No Product found. Please contact your Customer Center Representative for assistance.</p>
                                                           </div>
                                                       </td> 
                                                   </tr>
                                               </template>                     
                                           </tbody>
                                       </table>
                                   </div>
                               </div>
                               <template if:false={hasSelectedProducts}>
                                           <div>                                       
                                           <p class="slds-text-color_error">Please select a product</p>
                                           </div>
                                        </template>
                           </div> 
   
   
   
                           </template>   
                           <!--**********  Select Product Table Section End  *********-->
                       
                           <!--================================================
                                        Select Product section End
                           ================================================--> 
   
                           <!--================================================
                                          Enter Details Section Start
                           ================================================--> 
                                       
                            <!--********   Enter Details Form Start    **********-->
                                   <template if:true={enterDetailsForm}>
                                       <div class="slds-size_12-of-12 mtb36">
                                           <div class="slds-grid ">
                                               <div class="slds-size_12-of-12">
                                                   <h2 class="heading3 mb15">Enter Details</h2>
                                   
                                   
                                                   <div class="slds-size_8-of-12">
                                                       <div class="slds-grid slds-gutters">
   
                                                           <div class="slds-size_6-of-12 setPadding">
                                                               <div class="slds-p-vertical_x-small setInput">
                                                                   <lightning-input class="Step2" type="text" data-id="orderName" label="My Order Name (optional)" maxlength="20" placeholder="" onchange={handleOrdDetailsChange} value={orderName}>
                                                                   </lightning-input>
                                                               </div>
                                                               
                                                           </div>
   
                                                           <div class="slds-size_6-of-12 setPadding">
                                                               <div class="slds-p-vertical_x-small setInput">
                                                                   <lightning-input class="Step2 Step2CustPo requiredSet" type="text" data-id="customerPo"  maxlength="35" label="Customer PO" placeholder="" required onchange={handleOrdDetailsChange} value={customerPo} message-when-value-missing="Please enter Customer PO">
                                                                   </lightning-input>
                                                               </div>
                                                           </div>
                                                       </div>    
                                                       <div class="slds-grid slds-gutters">   
                                                           <div class="slds-size_6-of-12 setPadding">
                                                               <div class="slds-p-vertical_x-small setInput">
                                                                   
                                                                   <div class="slds-form-element">
                                                                       <div class="slds-form-element__control">
                                                                               
                                                                               <lightning-combobox
                                                                                   placeholder="Select Delivery Term"
                                                                                   label="Delivery Terms"
                                                                                   value={deliveryTermsValue}
                                                                                   options={deliveryTermOptions}
                                                                                   onchange={handleDeliveryTermsChange}
                                                                                   dropdown-alignment="auto"
                                                                                   class="setCombobox Step2 Step2DevTerm requiredSet"
                                                                                   message-when-value-missing="Please select a Delivery Term"
                                                                                   required 
                                                                                   >
                                                                               </lightning-combobox>
                                                                               <template if:false={hasDeliveryTermsData}>
                                                                                   <div>                                       
                                                                                   <p class="slds-text-color_error">No Delivery Terms found. Please contact your Customer Center Representative for assistance.</p>
                                                                                   </div>
                                                                               </template>
                                                                               
                                                                       </div>
                                                                   </div> 
                                                               </div>
   
                                                           </div>
                                                           <div class="slds-size_6-of-12 setPadding">
                                                              
                                                               <div class="slds-p-vertical_x-small setInput">
                                                                   <div class="slds-form-element">
                                                                       <div class="slds-form-element__control">
                                                                               
                                                                               <lightning-combobox
                                                                                   placeholder="Select Mode of Transport"
                                                                                   label="Mode of Transport"
                                                                                   value={modeOfTransportValue}
                                                                                   options={modeOfTransportOptions}
                                                                                   onchange={handleModeOfTransChange}
                                                                                   dropdown-alignment="auto"
                                                                                   class="setCombobox Step2 Step2Transport requiredSet"
                                                                                   message-when-value-missing="Please select a Mode of Transport"
                                                                                   required
                                                                                   >
                                                                               </lightning-combobox>
                                                                               <template if:false={hasTransportData}>
                                                                                   <div>                                       
                                                                                   <p class="slds-text-color_error">No Mode of Transport found. Please contact your Customer Center Representative for assistance.</p>
                                                                                   </div>
                                                                               </template>
                                                                       </div>
                                                                   </div> 
                                                                   
                                                               </div>
                                                              
                                                           </div>
                 
   
                                                       </div>
                                                       <div class="flex slds-grid slds-gutters">
                                                           <div class="slds-size_12-of-12 setPadding">
                                                               <div class="slds-p-vertical_x-small setInput1">
                                                                   <lightning-textarea type="text" data-id="otherInst" maxlength="900" label="Other Instructions" placeholder="" onchange={handleOrdDetailsChange} value={otherInstValue}>
                                                                   </lightning-textarea>
                                                                   <div class="messageLine slds-float_right "><span>{otherInstCount}</span><span>/900</span></div>
                                                               </div>
                                   
                                                           </div>
                                                       </div>
                                                   </div>
                                               </div>
                                           </div>
                                       </div>
                                   </template>
                            <!--*********   Enter Details Form End   **********-->
                                   
                                   
                            <!--********  Enter Details Table Start   **********-->
                                   <template if:true={enterDetailsTable}>
                                       <div class="mb36 setScrollbarTable scrollBarStyle">
                                           
                                               <div class={tableClassName}>
                                               <div aria-label="Enter details table" class={scrollBarEnable} style="height:100%;
                                               background-color: #f5f5f5;">
               
                                                   <table
                                                       class="slds-table slds-table_cell-buffer slds-table--header-fixed setInputTable"
                                                       aria-label="Enter details table" style="table-layout:fixed;">
                                                       <thead>
                                                           <tr class="slds-line-height_reset">
                                                            <th class="" scope="col" style="width:6%">
                                                                <div class="slds-assistive-text" aria-label="Serial Number">Serial Number</div>
                                                                <div class="slds-truncate slds-cell-fixed"  aria-hidden="true" title="Serial Number">
                                                                    S. No
                                                                </div>
                                                               </th>

                                                               <th class="" scope="col" style="width:16%">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Product Name/Code" style="margin-top: -9px">
                                                                   Product Name/<br/>Code
                                                                   </div>
                                                               </th>
                                                               <th style="width:8%" class="" scope="col">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Quantity">
                                                                       Quantity
                                                                   </div>
                                                               </th>
                                                               <th style="width:9%" class="" scope="col">
                                                                   <div class="slds-cell-fixed" title="Unit">
                                                                       Unit
                                                                   </div>
                                                               </th>
                                                               <th style="width:18%" class="" scope="col">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Delivery/Collection Date" style="margin-top: -9px">
                                                                       Delivery/<br/>Collection Date
                                                                       
                                                                   </div>
                                                               </th>
                                                               <th style="width:15%" class="" scope="col">
                                                                <div class="slds-assistive-text" aria-label="Shell Contract Number">Shell Contract Number</div>
                                                                   <div class="slds-truncate slds-cell-fixed" aria-hidden="true" title="Shell Contract Number">
                                                                       Shell Contract No
                                                                   </div>
                                                               </th>
                                                               <th style="width:12%" class="" scope="col">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Instructions">
                                                                       Instructions
                                                                   </div>
                                                               </th>
                                                               <th style="width:18%" class="" scope="col">
                                                                <div class="slds-assistive-text" aria-label="Serial Number">Number of Orders/Action</div>
                                                                   <div class="slds-truncate slds-cell-fixed" aria-hidden="true" title="Number of Orders/Action">
                                                                       No. of Orders/Action
                                                                   </div>
                                                               </th>
                                                           </tr>
                                                       </thead>
                                                       <tbody>
                                                           
                                                               <template for:each ={selectedProdDetails} for:item="product">
                                                                   <tr key={product.Id} class="slds-hint-parent">
                                                                    <td style="width:6%">
                                                                        <div class="">
                                                                            {product.sno}
                                                                        </div>
                                                                    </td>
                                                                       <td style="width:16%">
                                                                           <!-- <div class="tooltip"> -->
                                                                            <div>
                                                                               {product.materialName}
                                                                               <span class="tooltiptext">{product.productNumber}</span>
                                                                               <!-- <span tabindex="0" class="tooltiptext" role="tooltip">{product.productNumber}</span> -->
                                                                           </div>
                                                                       </td>
                                                                       <td style="width:8%">
                                                                           <lightning-input data-id={product.Index} min="1" class="Step2 errorMsg" data-name={product.materialName} data-prodid={product.productId} type="number" variant="label-hidden" value={product.quantity}  placeholder="Quantity"  maxlength="7" onblur={handleQuantityChange} required message-when-value-missing="Please enter the required quantity"  message-when-range-underflow="Please enter the Minimum quantity : 1"></lightning-input>
                                                                       </td>   
                                                                       <td style="width:9%">
                                                   
                                                                           <div class="slds-form-element">
                                                                               <div class="slds-form-element__control">
                                                                                   <lightning-combobox
                                                                                       placeholder="Unit"
                                                                                       name={product.Index}
                                                                                       variant="label-hidden"
                                                                                       value={product.unit}
                                                                                       options={unitProdOptions}
                                                                                       dropdown-alignment="auto"
                                                                                       onchange={handleUnitChange}
                                                                                       class="setUnitCombobox Step2 errorMsg"
                                                                                       required
                                                                                       message-when-value-missing="Please select unit of measure"
                                                                                       >
                                                                                   </lightning-combobox>
                                                                                       
                                                                                   
                                                                               </div>
                                                                           </div>
                                                   
                                                                       </td>
                                                                       <!-- Delivery date select -->
                                                                       <td style="width:18%">     
                                                                        
                                                                               <input type="date" id={datePickerId} data-id={product.Index} min={currentdate} max={maximumdate}  class="Step2" placeholder="Delivery date" name="myDate" value={product.deliveryCollDate} lwc:dom="manual" onchange={handleDeliveryDate}  required onfocus={callevent}/>
                                                                               <div class="error" id={nameErr}></div>
                                                                       </td>
                                                                       <td style="width:15%">
                                                                           <lightning-input type="text" class="Step2 errorMsg" data-id={product.Index} variant="label-hidden" value={product.shellContractNo} placeholder="Shell Contract No" max-length="10" pattern="[0-9]+" onblur={handleShellContract}></lightning-input>
                                                                       </td>
                                                                       <td style="width:12%">
                                                                           <lightning-input type="text" class="Step2 errorMsg" data-id={product.Index} variant="label-hidden" value={product.instructions} placeholder="Instructions" maxlength="132" onblur={handleInstructions}></lightning-input>
                                                                       </td>
                                                                       <td style="width:18%">
                                                                           <div class="orderTd">
                                                                           <lightning-input type="text" data-id={product.Id}  name="demo" variant="label-hidden"  class="orderInput Step2" placeholder="" maxlength="2" pattern="[0-9]+" value={defaultOrdValue} onchange={handleOrderAction} aria-label="please enter Number of Orders"></lightning-input>
                                                                           <a data-id={product.Index} data-name={product.materialName} data-code={product.productNumber} data-title={product.Id} onclick={handleAddButton} tabindex="0"><lightning-icon icon-name="utility:add" size="xx-small" alternative-text="add" title="add"></lightning-icon></a>
                                                                           <a data-id={product.Index} onclick={handleDeleteButton} tabindex="0"><lightning-icon icon-name="utility:delete" size="xx-small" alternative-text="delete" title="delete"></lightning-icon></a>
                                                                       </div>
                                                                       </td>
                                                                   </tr>
                                                               </template>
                                                       </tbody>
                                                   </table>
                                               </div>
                                           </div>
                                       </div> 
                                   </template>    
                           <!--************   Enter Details Table End   ***********-->
                                   
                      
                            <!--================================================
                                          Enter Details Section End
                           ================================================-->  
   
                            
                            <!--================================================
                                        Review & Submit Section Start
                            ================================================-->
   
                            <!--********   Review & Submit Form Start    **********-->
                                   <template if:true={reviewSubmitForm}>
                                        <div class="slds-size_12-of-12 mb40">
                                           <div class="slds-grid ">
                                               <div class="slds-size_12-of-12">
                                                   <div class="setTableVertical">    
                                                   <table class="slds-table " style="width:100%;table-layout: fixed;border-collapse: collapse;" aria-label="Review Submit table">
                                                    <thead aria-hidden="true" class="slds-hide">
                                                        <tr class="noBorder">
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                       <tbody>
                                                           <tr>
                                                               <td style="width:25%">My Order Name</td>
                                                               <td class="boldTd">{orderName}</td>
                                                           </tr>
                                                           <tr>
                                                               <td style="width:25%">Customer PO</td>
                                                               <td class="boldTd">{customerPo}</td>
                                                           </tr>
                                                           <tr>
                                                               <td style="width:25%">Delivery Terms</td>
                                                               <td class="boldTd">{deliveryTermsValue}</td>
                                                           </tr>
                                                           <tr>
                                                               <td style="width:25%">Mode of Transport</td>
                                                               <td class="boldTd">{modeOfTransportValue}</td>
                                                           </tr>
                                                           
                                                           <tr>
                                                               <td style="width:25%">Other Instructions</td>
                                                               <td class="boldTd">{otherInstValue}</td>
                                                           </tr>
                                                       </tbody>
                                                   </table>       
                                                   </div>  
                                               </div>
                                           </div>
                                       </div>
                                   </template>
                            <!--*********   Review & Submit Form End   **********-->
   
                            <!--********  Review & Submit Table Start   **********-->
                                   <template if:true={reviewSubmitTable}>
                                       <div class="mb36 setScrollbarTable">
                                         
                                               <div class={tableClassName}>
                                               <div tabindex="0" class={scrollBarEnable} style="height:100%;
                                               background-color: #f5f5f5;">
               
                                                   <table
                                                       class="slds-table slds-table_cell-buffer slds-table--header-fixed setInputTable"
                                                       aria-label="Review Submit table " style="table-layout: fixed;">
                                                       <thead>
                                                           <tr class="slds-line-height_reset">
                                                               <th class="" scope="col" style="width:6%">
                                                                <div class="slds-assistive-text" aria-label="Serial Number">Serial Number</div>
                                                                <div class="slds-truncate slds-cell-fixed" aria-hidden="true" title="serial number">
                                                                    S. No
                                                                </div>
                                                               </th>
                                                               <th class="" scope="col" style="width:20%">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Product Name/Code" style="margin-top: -9px">
                                                                   Product Name/<br/>Code
                                                                   </div>
                                                               </th>
                                                               <th style="width:9%" class="" scope="col">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Quantity">
                                                                       Quantity
                                                                   </div>
                                                               </th>
                                                               <th style="width:9%" class="" scope="col">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Unit">
                                                                       Unit
                                                                   </div>
                                                               </th>
                                                               <th style="width:18%" class="" scope="col">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Delivery/Collection Date" style="margin-top: -9px">
                                                                       Delivery/<br/>Collection Date
                                                                   </div>
                                                               </th>
                                                               <th style="width:15%" class="" scope="col">
                                                                <div class="slds-assistive-text" aria-label="Shell Contract Number">Shell Contract Number</div>
                                                                   <div class="slds-truncate slds-cell-fixed" aria-hidden="true" title="Shell Contract Number">
                                                                       Shell Contract No
                                                                   </div>
                                                               </th>
                                                               <th style="width:23%" class="" scope="col">
                                                                   <div class="slds-truncate slds-cell-fixed" title="Instructions">
                                                                       Instructions
                                                                   </div>
                                                               </th>
                                                               
                                                           </tr> 
                                                       </thead>
                                                       <tbody>
                                                           <template for:each ={orderLineItemsList} for:item="product">
                                                               <tr key={product.productId} class="slds-hint-parent">
                                                                <td style="width:6%">
                                                                    <div class="">
                                                                        {product.sno}
                                                                    </div>
                                                                </td>
                                                                   <td style="width:20%">
                                                                        <!-- <div class="tooltip"> -->
                                                                        <div>    
                                                                            {product.materialName}
                                                                            <span class="tooltiptext">{product.materialNumber}</span>
                                                                        </div>
                                                                    </td>
                                                                   <td style="width:9%">
                                                                       <div class="">
                                                                           {product.quantity}
                                                                       </div>
                                                                   </td>
                                                                   <td style="width:9%">
                                                                       <div class="">
                                                                           {product.unit}
                                                                       </div>
                                               
                                                                   </td>
                                                                   <td style="width:18%">
                                                                       <div class="">
                                                                        <lightning-formatted-date-time class="textCapital" value={product.deliveryCollDate} year="numeric" month="short" day="2-digit"></lightning-formatted-date-time>
                                                                          
                                                                       </div>
                                                                   </td>
                                                                   <td style="width:15%">
                                                                       <div class="">
                                                                           {product.shellContractNo}
                                                                       </div>
                                                                   </td>
                                                                   <td style="width:23%">
                                                                       <div class="">
                                                                           {product.instructions}
                                                                       </div>
                                                                   </td>
                                                                   
                                                               </tr>
                                                           </template>
                                                       </tbody>
                                                   </table>
                                               </div>
                                           </div>
                                       </div> 
   
                                   </template>    
                            <!--************  Review & Submit Table Start   ***********-->
   
                            <!--================================================
                                        Review & Submit Section End
                            ================================================-->  
   
                            
                            <!--********   Navigation Buttons Start  *********-->
                           <div class="slds-m-vertical_large">
                               <button class="slds-button slds-button_neutral backBtn mr16"  onclick={handlePrev} id="btn" aria-label="gray border color with back icon Back"><lightning-icon icon-name="utility:back" alternative-text="back" title="back" size="xx-small" class="mr8 iconColor"></lightning-icon> Back</button>
                               
                               <template if:false={isSelectStep3}>
                                  
                               <button class="slds-button slds-button_brand nextBtn mr16" onclick={handleNext} aria-label="yellow background color with forward icon Next"> Next <lightning-icon icon-name="utility:forward" alternative-text="forward" title="forward" size="xx-small" class="ml8 iconColor"></lightning-icon></button>
                               </template>
                              <template if:true={isSelectStep3}>
                                 
                                   <button class="slds-button slds-button_brand nextBtn mr16" onclick={handleSubmit} aria-label="yellow background color Submit"> Submit</button>
                               </template>
                               <template if:false = {isSelectStep1}>
                                   <button class="slds-button cancelBtn mr16" onclick={handleCancel} aria-label="Cancel">Cancel</button>
                                   <button class="slds-button slds-button_neutral backBtn slds-m-left_x-small slds-float_right" onclick={handleSaveAsDraft} aria-label="gray border color  Save As Draft">Save As Draft</button> 
                               </template>
                               </div>
                           <!--*********   Navigation Buttons End  *********-->
                   
                 
            <!--========================================================
                                  New Order Tab End
               =========================================================-->
   
       <!-- modal start -->
       <template if:true={isShowModal}>
           <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
               aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open" aria-label="Cancel Order">
               <div class="setModal slds-modal__container">
                  
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handleCloseModal}>
                   <lightning-icon icon-name="utility:close"
                      alternative-text="close"
                      variant="inverse"
                      size="small" ></lightning-icon>
                   <span class="slds-assistive-text">Close</span>
                </button>
                       
                   <div class="slds-modal__content slds-p-around_large setModalBody" id="modal-content-id-1">
                       <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate modalHeading">Cancel Order</h2>
                       <p>Are you sure you want to cancel the order?</p>
                       <p>If you want you can 'Save as Draft' this order.</p>
                   <div class="modalBtn">
                       <button class="slds-button yellowBtn" onclick={handleHomepage} aria-label="yellow background color Yes, Cancel Order">Yes, Cancel Order</button>
                       <button class="slds-button cancelBtn" onclick={handleCloseModal} aria-label="No, Keep Order">No, Keep Order</button>
                       <button class="slds-button borderBtn" onclick={handleSaveAsDraft} aria-label="gray border color  Save as Draft" >Save as Draft</button>
                    </div>
                   </div>
                  
               </div>
           </section>
           <div class="slds-backdrop slds-backdrop_open"></div>
       </template>
       <!-- modal end -->
   
       <!-- modal start -->
       <template if:true={isShowErrorModal}>
           <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
               aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open" aria-label="Alert">
               <div class="setModal slds-modal__container">
                   <!-- modal header start -->
                  
                   <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModalBox}>
                       <lightning-icon icon-name="utility:close"
                       alternative-text="close"
                       variant="inverse"
                       size="small" ></lightning-icon>
                       <span class="slds-assistive-text">Close</span>
                   </button>
                   
                   <!-- modal body start -->
                   <div class="slds-modal__content slds-p-around_large setModalBody" id="modal-content-id-2">
                       <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate modalHeading">Alert!</h2>
                       <p>{lineItemError}</p>
                       <p>{lineItemInfo}</p>
                       <p>{lineItemleftInfo}</p>
                   </div> 
               </div>
           </section>
           <div class="slds-backdrop slds-backdrop_open"></div>
       </template>
       <!-- modal end -->
   
   </div>
   
   <!-- ================ Tab section End ============= -->
   
   </template>